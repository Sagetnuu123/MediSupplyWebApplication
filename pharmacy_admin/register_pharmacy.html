<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediSupply - Pharmacy Registration</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.css">
    <link rel="stylesheet" href="styles/registerstyle.css" />
    <link rel="icon" type="image/png" href="images/medisupplysystem_logo.png">
</head>
<body>
    <!-- Header -->
    <header class="page-header"></header>
    
    <div class="background-cover">
        <img src="images/background_register_pharmacy.jpg" alt="Background" class="background-image">
    </div>    

     <!-- Add Pharmacy Modal -->
     <div class="modal always-visible">
        <div class="modal-content">

            <div class="modal-close">
                <button class="modal-back-btn" onclick="goBack()">
                    <img src="images/back_arrow.png" alt="Back Icon" class="back-icon"> Back
                </button>
            </div>
            
            
        <div class="modal-body">
            <div class="modal-header"> 
                <img src="images/medisupplysystem_logo.png" alt="Logo" class="logo-img">
                <h3>PHARMACY REGISTRATION</h3>
            </div> 
            
            <p class="modal-subtext">
                Please ensure the accuracy of the information provided. Do not share your registration details with anyone for security purposes.
            </p>

            <div class="modal-info-text">
                FILL INFORMATION
            </div>

            <form id="add_pharmacy-form">

                <div class="form-section">
                    <h3 class="section-title">Pharmacy Details</h3> <!-- Category Title -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="pharmacy-name">Pharmacy Name<span class="required-asterisk">*</span></label>
                            <div class="form-container">
                            <input type="text" id="pharmacy-name" required>
                        </div>
                        <small id="pharmacy-error" class="error-message"></small>
                        </div>                            
                        <div class="form-group">
                            <label for="owner-name">Owner's Full Name<span class="required-asterisk">*</span></label>
                            <div class="form-container">
                            <input type="text" id="owner-name" required>
                        </div>
                        <small id="owners-error" class="error-message"></small>
                        </div>
                        <div class="form-group">
                            <label for="contact-number">Phone Number/Hotline<span class="required-asterisk">*</span></label>
                            <div class="form-container">
                            <input type="text" id="contact-number" required>
                        </div>
                        <small id="contact-error" class="error-message"></small>
                    </div>
                    </div>
                </div>   
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="owners-address">
                            Owner's Address <span class="italic-text">(Barangay, Municipality, Province)</span>
                            <span class="required-asterisk">*</span>
                        </label>
                        <div class="form-container">
                        <input type="text" id="owners-address" required>
                    </div>  
                    <small id="owners-address-error" class="error-message"></small> 
                </div>                     
                </div>

                <div class="form-row">
                    <div class="form-group">
                    <label for="email">Pharmacy Email<span class="required-asterisk">*</span></label>
                    <div class="form-container">
                    <input type="email" id="email" required>
                    </div>
                    <small id="pharmacy-email-error" class="error-message"></small> 
                </div>
                </div>

                <div class="form-row">
                <div class="form-group">
                    <label for="pharmacy-type">Pharmacy Type<span class="required-asterisk">*</span></label>
                    <select id="pharmacy-type" placeholder="Pharmacy Type"  required>
                        <option value="" disabled selected class="disabled-option">Select Pharmacy Type</option>
                        <option value="Community Pharmacy">Community Pharmacy </option>
                        <option value="Clinical Pharmacy">Clinical Pharmacy</option>
                        <option value="Industrial Pharmacy">Industrial Pharmacy </option>
                        <option value="Compounding Pharmacy">Compounding Pharmacy </option>
                        <option value="Consulting Pharmacy">Consulting Pharmacy</option>
                        <option value="Regulatory Pharmacy">Regulatory Pharmacy</option>
                    </select>
                </div>
                </div>

            <div class="form-section">
                        <h3 class="section-title">Business Address</h3> <!-- Category Title -->
                        <p class="section-description">
                            Note: Our system currently supports only pharmacies located in district areas, specifically within the municipalities of Loon and Calape.
                        </p>
                        <div class="form-row">
                        <div class="form-group">
                            <label for="business-address">
                                Province
                                <span class="italic-text">(Select Province First)</span>
                                <span class="required-asterisk">*</span></label>
                            <div class="form-container">
                                <select id="province" onchange="loadCities()">
                                    <option value="" disabled selected class="disabled-option"></option>
                                    <option value="Bohol">Bohol</option>
                                </select>
                            </div>
                            <small id="province-error" class="error-message"></small> 
                            </div>
                        </div>
                        <div class="form-row">
                        <div class="form-group">
                            <label for="business-address">
                                Municipality
                                <span class="italic-text">(Select Province First)</span>
                                <span class="required-asterisk">*</span></label>
                            <div class="form-container">
                                <select id="municipality" onchange="loadBarangays()" disabled>
                                    <option value="" disabled selected class="disabled-option"></option>
                                </select>
                            </div>
                            <small id="municipality-error" class="error-message"></small> 
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="business-address">
                                    Barangay
                                    <span class="italic-text">(Select Province First)</span>
                                    <span class="required-asterisk">*</span></label>
                                <div class="form-container">
                                    <select id="barangay" disabled>
                                        <option value="" disabled selected class="disabled-option"></option>
                                    </select>
                                </div>
                                <small id="barangay-error" class="error-message"></small> 
                                </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                            <label for="business-address">Street<span class="required-asterisk">*</span></label>
                            <div class="form-container">
                            <input type="text" id="street" required>
                            </div>
                            <small id="street-error" class="error-message"></small> 
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                            <label for="zip-code">Zip Code<span class="required-asterisk">*</span></label>
                            <div class="form-container">
                            <input type="text" id="zipcode" required>
                            </div>
                            <small id="zipcode-error" class="error-message"></small> 
                            </div>
                        </div>
                        </div>

            <div class="form-section">
                <h3 class="section-title">Pharmacy Accreditation Details</h3> <!-- Category Title -->
            <div class="form-row">
                <div class="form-group">
                <label for="tax-id">Tax Identification Number<span class="required-asterisk">*</span></label>
                <div class="form-container">
                <input type="text" id="tax-id" required>
                </div>
                <small id="tax-error" class="error-message"></small> 
                </div>
                <div class="form-group">
                <label for="cert-number">Permit Number<span class="required-asterisk">*</span></label>
                <div class="form-container">
                <input type="text" id="cert-number" required>
                </div>
                <small id="certification-error" class="error-message"></small> 
                </div>
                <div class="form-group">
                <label for="license-number">License Number<span class="required-asterisk">*</span></label>
                <div class="form-container">
                <input type="text" id="license-number" required>
                </div>
                <small id="license-error" class="error-message"></small>
                </div>
            </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                <label for="license-expiry">License Expiry Date<span class="required-asterisk">*</span></label>
                <input type="date" id="license-expiry" required>
                </div>
                <div class="form-group">
                <label for="date-of-registration">Date of Registration<span class="required-asterisk">*</span></label>
                <input type="date" id="date-of-registration" required>
                </div>
            </div>

            <div class="form-section">
                <h3 class="section-title">Opening Days</h3> <!-- Category Title -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="daysfrom">From
                            <span class="italic-text">(Select starting day)</span>
                            <span class="required-asterisk">*</span>
                        </label>
                        <select id="daysfrom">
                            <option value="" disabled selected class="disabled-option">Select Days</option>
                            <option value="Monday">Monday</option>
                            <option value="Tuesday">Tuesday</option>
                            <option value="Wednesday">Wednesday</option>
                            <option value="Thursday">Thursday</option>
                            <option value="Friday">Friday</option>
                            <option value="Saturday">Saturday</option>
                            <option value="Sunday">Sunday</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="daysto">To
                            <span class="italic-text">(Select ending day)</span>
                            <span class="required-asterisk">*</span>
                        </label>
                        <select id="daysto">
                            <option value="" disabled selected class="disabled-option">Select Days</option>
                            <option value="Monday">Monday</option>
                            <option value="Tuesday">Tuesday</option>
                            <option value="Wednesday">Wednesday</option>
                            <option value="Thursday">Thursday</option>
                            <option value="Friday">Friday</option>
                            <option value="Saturday">Saturday</option>
                            <option value="Sunday">Sunday</option>
                        </select>
                    </div>
                </div>
            
                <div class="form-row">  
                    <div class="form-group">
                        <label for="start">
                            Start
                            <span class="italic-text">(HH:MM AM/PM)</span>
                            <span class="required-asterisk">*</span>
                        </label>
                        <input type="time" id="start" required>
                    </div>
                    <div class="form-group">
                        <label for="close">
                            Close
                            <span class="italic-text">(HH:MM AM/PM)</span>
                            <span class="required-asterisk">*</span>
                        </label>
                        <input type="time" id="close" required>
                    </div>
                </div>
            </div>                
            

            <div class="form-section">
                <h3 class="section-title">Security & Profile Settings</h3> <!-- Category Title -->
            <div class="form-row">
                <div class="form-group">
                    <label for="password">Set Password
                        <span class="italic-text">(Remember your password always.)</span>
                        <span class="required-asterisk">*</span></label>
                    <div class="form-container">
                        <input type="password" id="password" required onkeyup="validatePassword(); checkPasswordStrength();">
                        <i id="eye-icon" class="fas fa-eye-slash" onclick="togglePassword('password', this)"></i>
                    </div>
                    <small id="password-strength" class="error-message"></small>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="confirm-password">Confirm Password<span class="required-asterisk">*</span></label>
                    <div class="form-container">
                        <input type="password" id="confirm-password" required onkeyup="validatePassword()">
                        <i id="eye-icon" class="fas fa-eye-slash" onclick="togglePassword('confirm-password', this)"></i>
                    </div>
                    <small id="password-error" class="error-message"></small>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                <label for="medicine-picture">Upload Pharmacy Profile<span class="required-asterisk">*</span></label>
                <input type="file" id="medicine-picture" accept="image/*" required>
                </div>
            </div>
            </div>

            <!-- Acknowledgment Checkbox -->
            <div class="form-row checkbox-container">
                <input type="checkbox" id="acknowledge-checkbox" onchange="toggleSubmitButton()">
                <label for="acknowledge-checkbox" class="acknowledge-text">
                    I acknowledge that the email and password will be used for login. I will keep them secure.
                </label>
            </div>

            <div class="button-container">
                <button type="submit" class="submit-btn" id="submit-btn" disabled>
                    <span class="spinner" id="spinner"></span> 
                    <span class="btn-text">Proceed Registration</span>
                </button>
            </div>                
            </form>
        </div>
            
        </div>
    </div>

    <!-- Custom Confirmation Modal -->
    <div id="confirmBackModal" class="custom-modal-container">
        <div class="custom-modal-content">
            <h3>Exit Registration?</h3>
            <p>Unsaved changes may be lost. Do you want to go back and edit or exit?</p>
            <div class="custom-modal-footer">
                <button class="cancel-btn" onclick="closeConfirmModal()">Still Continue</button>
                <button class="confirm-btn" onclick="redirectToHome()">Do it Later</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.js"></script>

    <!-- For Database Script-->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>

    <script>
    // Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyB6_5jc_rz4vrkInjXsQFSXnFYuV2XOZGQ",
        authDomain: "medisupplysystem.firebaseapp.com",
        databaseURL: "https://medisupplysystem-default-rtdb.firebaseio.com",
        projectId: "medisupplysystem",
        storageBucket: "medisupplysystem.firebasestorage.app",
        messagingSenderId: "176583885465",
        appId: "1:176583885465:web:fdd04158416e8ce6002e08"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    const storage = firebase.storage();

    // Example usage
    console.log("Firestore initialized:", db);

    </script>
    <!-- End of Database Script-->

    
    
    <script src="js/regsiter.js"></script> <!-- Link to external JS -->
</body>
</html>
